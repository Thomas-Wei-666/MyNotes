#  C++の引用(左值)：

###  简介

```cpp
int x = 10;
int &y = x; 			//将y称为x的“引用”
```

在后续的程序中，使用y就相当于使用x

y与x的值一起改变	

y相当于x的“别名”，或者“分身”



###  具体实现

- 作为变量使用：

  在C++中，引用会被自动实现为__指针常量__.

  ```cpp
  int &y = x;		
  //上述代码相当于：
   int* const y = x;
  //并且之后的每次使用y都相当于使用：* y 
  ```

  由此可知：

    		1. 引用必须在定义时赋值，并且以后不能改变。
    		2. 引用相当于指针，记录的是地址信息。

- 作为返回值：

  - 先来看正常情况下(值返回)编译器对函数返回值的具体操作：

    ```cpp
    int fun_example(){
        int a = 10 ;
        return a ;
    }
    
    int main(){
        int res = fun_example() ;
        return 0 ;
    }
    ```

    在上述例子中，函数`fun_example()`在返回时：

    1. 先将a拷贝到一份临时变量中
    2. __释放a的内存空间__
    3. 将刚刚创建的临时变量赋值给`res`
    4. 释放临时变量

  - __当返回值为引用类型时（引用返回）：__

    ```cpp
    int& fun_example(){...}
    ```

    此时编译器在返回时不再进行拷贝操作，效率提升了/dog.

    __注意__：将值返回给`res`后，`a`的内存空间会被释放！！！

    所以，__不能用一个引用接收一个引用返回__！(会导致接收的那个引用指向一片已经被释放的内存空间)

    > P.S.:如果函数内返回的是全局变量或者静态变量，那就不存在内存释放问题了hhh。

- 作为参数:

  和`值返回`与`引用返回`的区别类似，使用引用作为参数时不会对传入的参数进行拷贝操作，而是直接使用（记录地址）。

  效率又提升了/dog

  ```cpp
  int fun_example2(int &a){...}
  ```

  